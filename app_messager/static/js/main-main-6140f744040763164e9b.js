/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _styles_style_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles/style.css */ \"./src/styles/style.css\");\n/* harmony import */ var _scripts_index_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scripts/index.ts */ \"./src/scripts/index.ts\");\n\n\n\n//# sourceURL=webpack://shop/./src/index.ts?");

/***/ }),

/***/ "./src/scripts/MessageForm/index.ts":
/*!******************************************!*\
  !*** ./src/scripts/MessageForm/index.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Service_postmen_sendler_message__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @Service/postmen/sendler_message */ \"./src/scripts/services/postmen/sendler_message.ts\");\n/* harmony import */ var _Service_handlers_messages_get_messages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @Service/handlers/messages/get-messages */ \"./src/scripts/services/handlers/messages/get-messages.ts\");\n// frontend\\src\\scripts\\MessageForm\\index.ts\n\n\n\nlet APP_WS_URL = \"ws://localhost:8000/ws\";\nif (APP_WS_URL === undefined) {\n  APP_WS_URL = '';\n}\n;\ndocument.addEventListener('DOMContentLoaded', () => {\n  /* 1/3 added the event listener to the input form . */\n  (0,_Service_handlers_messages_get_messages__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_Service_postmen_sendler_message__WEBPACK_IMPORTED_MODULE_0__[\"default\"])());\n});\n/* \r\nhandlerSendlerMessageTotal\r\n!! ключ группы изменить на динамический !!\r\nдалее\r\nФорма input не работает Enter\r\n\r\n*/\n\n//# sourceURL=webpack://shop/./src/scripts/MessageForm/index.ts?");

/***/ }),

/***/ "./src/scripts/index.ts":
/*!******************************!*\
  !*** ./src/scripts/index.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _MessageForm_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MessageForm/index */ \"./src/scripts/MessageForm/index.ts\");\n\n\n//# sourceURL=webpack://shop/./src/scripts/index.ts?");

/***/ }),

/***/ "./src/scripts/services/cleaner.ts":
/*!*****************************************!*\
  !*** ./src/scripts/services/cleaner.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction cleanForm() {\n  /* clearning forms - message */\n  const inputFormHTML = document.querySelector('input[data-id]');\n  if (inputFormHTML !== null) {\n    inputFormHTML.value = '';\n  }\n  ;\n\n  /* clearning forms - file */\n  const formFiles = document.getElementById('upload');\n  if (formFiles !== null) {\n    const inputFile = formFiles === null || formFiles === void 0 ? void 0 : formFiles.querySelector('input[type=\"file\"]');\n    if (inputFile !== null) {\n      inputFile.value = '';\n    }\n  }\n  ;\n  /* quote DIV */\n  const qouteDiv = document.querySelector('.quote.active');\n  if (qouteDiv !== null) {\n    qouteDiv.remove();\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (cleanForm);\n\n//# sourceURL=webpack://shop/./src/scripts/services/cleaner.ts?");

/***/ }),

/***/ "./src/scripts/services/cookies.ts":
/*!*****************************************!*\
  !*** ./src/scripts/services/cookies.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction getCookie(name) {\n  let cookieValue = null;\n  if (document.cookie !== undefined && document.cookie !== '') {\n    const cookies = document.cookie.split(';');\n    for (let i = 0; i < cookies.length; i++) {\n      const cookie = cookies[i].trim();\n      // Does this cookie string begin with the name we want?\n      if (cookie.substring(0, name.length + 1) === name + '=') {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n  return cookieValue;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getCookie);\n\n//# sourceURL=webpack://shop/./src/scripts/services/cookies.ts?");

/***/ }),

/***/ "./src/scripts/services/handlers/files/handler_input-file.ts":
/*!*******************************************************************!*\
  !*** ./src/scripts/services/handlers/files/handler_input-file.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// app_messager\\frontend\\src\\scripts\\services\\handlers\\files\\handler_input-file.ts\n\n/**\r\n * rules of handler\r\n */\nconst handlerInputEvent = (formDiv, form) => {\n  return async event => {\n    form = formDiv.querySelector('#upload');\n\n    /* For a loader anime. AnimeCode is below 1/3 */\n    const formFiles = document.getElementById('form-files');\n    const formData = new FormData(form);\n    formData.append('file', event.target.files);\n\n    /**\r\n     * Note: Size files\r\n     */\n    let totalSize = 0;\n    const fileArr = Array.from(event.target.files);\n    let fileSizeLarge = false;\n    for (let i = 0; i < fileArr.length; i++) {\n      totalSize += Object(fileArr[i]).size;\n      if (Object(fileArr[i]).size > 10000000) {\n        fileSizeLarge = true;\n      }\n    }\n    if (totalSize > 64000000 || fileSizeLarge) {\n      const formMessegeInput = document.querySelector('#messager');\n      const div = document.createElement('div');\n      div.className = 'attention';\n      div.innerText = 'Your all files from the your massage large than 64MB. Or one file is large 10MB';\n      formMessegeInput === null || formMessegeInput === void 0 || formMessegeInput.before(div);\n      return;\n    } else {\n      const attention = document.getElementsByClassName('attention');\n      if (attention.length > 0) {\n        attention[0].remove();\n      }\n    }\n    /**  We talking about beginning the upload */\n    const dataLocalJson_ = JSON.parse(localStorage.getItem('data'));\n    dataLocalJson_.fileId = true;\n    localStorage.setItem('data', JSON.stringify(dataLocalJson_));\n\n    /** Loader for a display anime 2/3 */\n    formFiles === null || formFiles === void 0 || formFiles.classList.add('upload');\n\n    /** upload */\n    await fetch('upload/', {\n      method: 'POST',\n      body: formData\n    }).then(async response => {\n      let responce = '';\n      if (response.ok) {\n        // debugger\n        const data = await response.json();\n        console.info('[upload_files > FORM]:', data);\n        responce = data.index.slice(0);\n        /** record result/ It's ID or false */\n        const dataLocalJson = JSON.parse(localStorage.getItem('data'));\n        dataLocalJson.fileId = responce;\n        localStorage.setItem('data', JSON.stringify(dataLocalJson));\n      } else {\n        console.error(\"[upload_files > FORM]: What is wrong! ERROR - didn't received the ID file!\", response.statusText);\n      }\n      /** Loader for a display anime 3/3 */\n      formFiles === null || formFiles === void 0 || formFiles.classList.remove('upload');\n    });\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handlerInputEvent);\n\n//# sourceURL=webpack://shop/./src/scripts/services/handlers/files/handler_input-file.ts?");

/***/ }),

/***/ "./src/scripts/services/handlers/files/upload_files.ts":
/*!*************************************************************!*\
  !*** ./src/scripts/services/handlers/files/upload_files.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _handler_input_file__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./handler_input-file */ \"./src/scripts/services/handlers/files/handler_input-file.ts\");\n// app_messager\\frontend\\src\\scripts\\services\\handlers\\files\\upload_files.ts\n\nconst handlerUploadFiles = () => {\n  /**\n   * preparing eventronment\n   */\n  const formDiv = document.getElementById('form-files');\n  if (formDiv === null) {\n    return;\n  }\n  const form = formDiv.querySelector('#upload');\n  if (form === null) {\n    return;\n  }\n\n  /** Check the key of localStorage.\n   * Key fileId be has a value:\n   * - 'false' - user no sending the file;\n   * - 'true' - user has sent file but has not received a file id in now time.\n   * - var a number type is id file.\n  */\n  const checkLockalKey = localStorage.getItem('data') !== null;\n  if (checkLockalKey) {\n    null;\n  } else {\n    localStorage.setItem('data', JSON.stringify({\n      fileId: false\n    }));\n  }\n  /**\n   * added the event listeber\n   */\n  form.onchange = (0,_handler_input_file__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(formDiv, form);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handlerUploadFiles);\n\n//# sourceURL=webpack://shop/./src/scripts/services/handlers/files/upload_files.ts?");

/***/ }),

/***/ "./src/scripts/services/handlers/getDataTime.ts":
/*!******************************************************!*\
  !*** ./src/scripts/services/handlers/getDataTime.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction zeroDateTime() {\n  const currentdate = new Date();\n  return currentdate;\n}\n\n/**\r\n * @returns '13:02\"\r\n */\nfunction getNowTime() {\n  const currentdate = zeroDateTime();\n  const time = currentdate.getHours().toLocaleString('en-US') + ':' + currentdate.getMinutes();\n  return time;\n}\n\n/**\r\n * @returns '2020-02-21'\r\n */\nfunction getNowDate() {\n  const currentdate = zeroDateTime();\n  const date = currentdate.getFullYear() + '-' + (currentdate.getMonth() + 1) + '-' + currentdate.getDate();\n  return date;\n}\n\n/**\r\n * @returns \"532\"\r\n */\nfunction getMowMultiSecond() {\n  const currentdate = zeroDateTime();\n  const multis = currentdate.getMilliseconds();\n  return String(multis);\n}\n\n/**\r\n * @returns 2020-02-21@11:02:23 PM'\r\n */\nfunction getFullTime() {\n  const dt = zeroDateTime();\n  const datetime = getNowDate() + '@' + dt.toLocaleTimeString('en-US');\n  return datetime;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  getNowTime,\n  getNowDate,\n  getFullTime,\n  getMowMultiSecond\n});\n\n//# sourceURL=webpack://shop/./src/scripts/services/handlers/getDataTime.ts?");

/***/ }),

/***/ "./src/scripts/services/handlers/messages/get-messages.ts":
/*!****************************************************************!*\
  !*** ./src/scripts/services/handlers/messages/get-messages.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _files_upload_files__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../files/upload_files */ \"./src/scripts/services/handlers/files/upload_files.ts\");\n/* harmony import */ var _sub_handler_subhandler_click__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sub-handler/subhandler-click */ \"./src/scripts/services/handlers/messages/sub-handler/subhandler-click.ts\");\n/* harmony import */ var _sub_handler_subhandler_key__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sub-handler/subhandler-key */ \"./src/scripts/services/handlers/messages/sub-handler/subhandler-key.ts\");\n// app_messager\\frontend\\src\\scripts\\services\\handlers\\messages\\get-messages.ts\n\n\n\n\n/**\n * Here is a function. In to the entry point inserting 'fun-variable' - handler. and return the handler function.\n * This function we use in more than one place and it has different handlers. \\\n * Itself variable 'fun' is a heandler event the KeyboardEvent | MouseEvent or (KeyboardEvent && MouseEvent). \\\n * @param 'fun' is a handler function. It, a handler function that is sendler of the message from the input chat's text.\n * @param void\n */\nconst handlerGetMessageOfInput = fun => {\n  const messageFormHTML = document.getElementById('message');\n  /*\n  * Attencion!! Here changing  html-element on the copy it. \\\n  * This action be clearning from is event-listeners \\\n  */\n  const cloneMessageFormHTML = messageFormHTML.cloneNode(true);\n  messageFormHTML.replaceWith(cloneMessageFormHTML);\n  /* ------ */\n  if (messageFormHTML !== null) {\n    cloneMessageFormHTML.addEventListener('click', (0,_sub_handler_subhandler_click__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(fun));\n    /* ------ */\n    cloneMessageFormHTML.addEventListener('keyup', (0,_sub_handler_subhandler_key__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(fun));\n  }\n  ;\n\n  /**\n   * Below is function for handler the event  of uploading file to the server\n   * @return void\n   */\n  (0,_files_upload_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handlerGetMessageOfInput);\n\n//# sourceURL=webpack://shop/./src/scripts/services/handlers/messages/get-messages.ts?");

/***/ }),

/***/ "./src/scripts/services/handlers/messages/old-message/old-messages.ts":
/*!****************************************************************************!*\
  !*** ./src/scripts/services/handlers/messages/old-message/old-messages.ts ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _postmen_sendler_message__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../postmen/sendler_message */ \"./src/scripts/services/postmen/sendler_message.ts\");\n/* harmony import */ var _postmen_sendler_up_message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../postmen/sendler-up-message */ \"./src/scripts/services/postmen/sendler-up-message.ts\");\n/* harmony import */ var _get_messages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../get-messages */ \"./src/scripts/services/handlers/messages/get-messages.ts\");\n// app_messager\\frontend\\src\\scripts\\services\\handlers\\messages\\old-message\\old-messages.ts\n\n\n\n\nconst manageOldMessageTotal = () => {\n  const rewriteContentAsy = async e => {\n    await (0,_postmen_sendler_up_message__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e);\n    const handler = await (0,_postmen_sendler_message__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(true);\n    await handler(e);\n    // /* ------ LocalStorage clearing ------ */\n    const localS = localStorage.getItem('data');\n    const localSJson = JSON.parse(localS);\n    localSJson.postId = '';\n    localSJson.userId = '';\n    localStorage.setItem('data', JSON.stringify(localSJson));\n  };\n  return e => {\n    rewriteContentAsy(e);\n    /* 3/3 added the event listener to the input form . It is change of the listener */\n    (0,_get_messages__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_postmen_sendler_message__WEBPACK_IMPORTED_MODULE_0__[\"default\"])());\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (manageOldMessageTotal);\n\n//# sourceURL=webpack://shop/./src/scripts/services/handlers/messages/old-message/old-messages.ts?");

/***/ }),

/***/ "./src/scripts/services/handlers/messages/old-message/paste-quote.ts":
/*!***************************************************************************!*\
  !*** ./src/scripts/services/handlers/messages/old-message/paste-quote.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// app_messager\\frontend\\src\\scripts\\services\\handlers\\messages\\old-message\\paste-quote.ts\n\n/**\n * @param 'text:string' Here we paste the old message for editing. Edition in the bottom input form.\n */\nconst addQuote = text => function () {\n  let fileHtml = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  const inputBox = document.getElementById('messager');\n  if (inputBox === null) {\n    console.log('[addQuote]: Html input not found');\n    return;\n  }\n  /* add quote */\n  const quoteHtml = document.createElement('div');\n  quoteHtml.className = 'quote active';\n  quoteHtml.innerText = text;\n  if ((typeof fileHtml).includes('string') && fileHtml.length > 0) {\n    quoteHtml.innerHTML += fileHtml;\n  }\n  inputBox === null || inputBox === void 0 || inputBox.insertAdjacentHTML('beforebegin', quoteHtml.outerHTML);\n\n  /* add text to the input form */\n  inputBox.value = text;\n\n  // /* manage styles */\n  // const boxMessage = document.getElementById('message');\n  // if (boxMessage === null) {\n  //   console.log('[addQuote]: Html input not found');\n  //   return;\n  // }\n  // const htmlQuoteArr = boxMessage?.getElementsByClassName('quote');\n  // const htmlDownloadArr = boxMessage?.getElementsByClassName('download');\n\n  // if ((htmlQuoteArr.length > 0) && (htmlDownloadArr.length > 0)) {\n  //   /* ------ 2/3 pencil ------ */\n  //   const parent = new Pencil(htmlQuoteArr[0] as HTMLDivElement);\n  //   parent.postStylesHeight(htmlQuoteArr[0] as HTMLDivElement);\n  // };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (addQuote);\n\n//# sourceURL=webpack://shop/./src/scripts/services/handlers/messages/old-message/paste-quote.ts?");

/***/ }),

/***/ "./src/scripts/services/handlers/messages/old-message/up-message.ts":
/*!**************************************************************************!*\
  !*** ./src/scripts/services/handlers/messages/old-message/up-message.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _oop_pencils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../oop/pencils */ \"./src/scripts/services/oop/pencils.ts\");\n/* harmony import */ var _htmlTemplates_file__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @htmlTemplates/file */ \"./src/scripts/templates/file.ts\");\n/* harmony import */ var _Service_links_files__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @Service/links-files */ \"./src/scripts/services/links-files.ts\");\n\n\n\n/**\r\n * In to the enterpoint called the two parameters. \\\r\n * Function replace the old contend to the modified (new) message.\r\n * @param `postIndex`: `string` - a box number for modified the old post\r\n * @param `postMessage`: `string` - a new message\r\n * @returns viod\r\n */\nconst upOldMessage = _ref => {\n  let {\n    postIndex,\n    postMessage\n  } = _ref;\n  return async _ref2 => {\n    let {\n      filesIndexes\n    } = _ref2;\n    const postHtml = document.querySelector(\"div[data-post=\\\"\".concat(postIndex, \"\\\"]\"));\n    if (postHtml === null) {\n      console.log('[upOldMessage > postHml]: Something that wrong/ Here can not find the post box through an index');\n      return;\n    }\n\n    /* ------ get the boxes ------ */\n    const copyPostHtml = postHtml.cloneNode(true);\n    const boxMessage = copyPostHtml.getElementsByClassName('box-message')[0];\n    const childArr = boxMessage.getElementsByClassName('user-message');\n    if (childArr.length === 0) {\n      return;\n    }\n    const copyChild = childArr[0].cloneNode(true);\n    childArr[0].replaceWith(copyChild);\n    /* ------  text ------ */\n    const oldText = copyChild.outerText;\n    copyChild.innerText = copyChild.innerText.replace(oldText, postMessage);\n    /* ------ update the boxes ------ */\n    boxMessage.insertAdjacentElement('beforeend', copyChild);\n    const copyBoxMessage = boxMessage.cloneNode(true);\n    boxMessage.remove();\n    copyPostHtml.classList.add('re_');\n    copyPostHtml.insertAdjacentElement('beforeend', copyBoxMessage);\n    /* ------ add a new files after redactions the old post ------ */\n    if (filesIndexes !== undefined && (typeof filesIndexes).includes('object') && filesIndexes.length > 0) {\n      /*  file's links adding to the message */\n      const linkFilesArr = await (0,_Service_links_files__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(filesIndexes); // GET\n      if (linkFilesArr === undefined) {\n        console.log(\"[upOldMessage > linkFilesArr]: Something that wrong! Here can not received link's array\");\n        return;\n      }\n      const htmlDownload = copyPostHtml.getElementsByClassName('download');\n      if (htmlDownload.length > 0) {\n        let refer = '';\n        for (let i = 0; i < linkFilesArr.length; i++) {\n          refer += (0,_htmlTemplates_file__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(linkFilesArr[i]);\n        }\n        ;\n        const htmlUl = htmlDownload[0].getElementsByTagName('ul');\n        htmlUl[0].insertAdjacentHTML('beforeend', refer);\n      } else if (htmlDownload.length === 0) {\n        let refer = '<ul>';\n        for (let i = 0; i < linkFilesArr.length; i++) {\n          refer += (0,_htmlTemplates_file__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(linkFilesArr[i]);\n        }\n        refer += '</ul>';\n        copyPostHtml.insertAdjacentHTML('afterbegin', \"<div class=\\\"download\\\">\".concat(refer, \"</div>\"));\n      } else {\n        console.log('[upOldMessage > filesIndexes > copyPostHtml]: Something that wrong!');\n      }\n    }\n    /* ------ update all - end ------ */\n    /* ------ up-html to the display ------ */\n    postHtml.replaceWith(copyPostHtml);\n\n    /* inserting an event listener again */\n    const postHtmlUp = document.querySelector(\"div[data-post=\\\"\".concat(postIndex, \"\\\"]\"));\n    /* ------ 2/3 pencil ------ */\n    if (postHtmlUp !== null) {\n      const pencil = new _oop_pencils__WEBPACK_IMPORTED_MODULE_0__.Pencil(postHtmlUp);\n      pencil.start();\n      /* ------ up-style ------ */\n      /* ------ box download  ------ */\n      const boxDownload = postHtmlUp.getElementsByClassName('download');\n      /* ------ style for a box with has download class  ------ */\n      if (boxDownload.length === 0) {\n        console.log('[upOldMessage > boxDownload] Something that wrong!');\n        return;\n      }\n      pencil.postStylesHeight(boxDownload[0]);\n      const htmlLi = boxDownload[0].getElementsByTagName('li');\n      if (htmlLi.length === 0) {\n        console.log('[upOldMessage > LI]: Something that wrong!');\n      }\n      pencil.handlerRemoveAdd(htmlLi);\n\n      /* ------ localStorage cleaning  ------ */\n      const LStorage = localStorage.getItem('data');\n      if (LStorage === null) {\n        console.error('[createChatMessage > localStorage]: Key not found here, simply.');\n      } else {\n        const localSJson = JSON.parse(LStorage);\n        localSJson.fileId = false;\n        localSJson.pathnames = [];\n        localStorage.setItem('data', JSON.stringify(localSJson));\n      }\n    }\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (upOldMessage);\n\n//# sourceURL=webpack://shop/./src/scripts/services/handlers/messages/old-message/up-message.ts?");

/***/ }),

/***/ "./src/scripts/services/handlers/messages/sub-handler/subhandler-click.ts":
/*!********************************************************************************!*\
  !*** ./src/scripts/services/handlers/messages/sub-handler/subhandler-click.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// app_messager\\frontend\\src\\scripts\\services\\handlers\\messages\\sub-handler\\subhandler-click.ts\n\n/**\r\n * This is only  a logic action after the event click or 'Enter' keybord.\r\n * @param `h`: `(e: MouseEvent) => void` is function. That is sction after the events\r\n * @returns void\r\n */\nconst eventClickManage = h => {\n  return e => {\n    const boxMess = e.currentTarget;\n    if (boxMess === null || e.target.type !== 'submit') {\n      return;\n    }\n    const inputHtml = boxMess.querySelector('input[type=\"text\"]');\n    if (inputHtml === null) {\n      return;\n    }\n    const messages = inputHtml.value.length > 0 ? inputHtml.value.trim() : '';\n    if (messages.length > 0 || !(typeof JSON.parse(localStorage.getItem('data')).fileId).includes('boolean')) {\n      /* ------ events clearing ------ */\n      if (e.target.tagName === 'INPUT') {\n        return;\n      }\n      h(e);\n    }\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (eventClickManage);\n\n//# sourceURL=webpack://shop/./src/scripts/services/handlers/messages/sub-handler/subhandler-click.ts?");

/***/ }),

/***/ "./src/scripts/services/handlers/messages/sub-handler/subhandler-key.ts":
/*!******************************************************************************!*\
  !*** ./src/scripts/services/handlers/messages/sub-handler/subhandler-key.ts ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// app_messager\\frontend\\src\\scripts\\services\\handlers\\messages\\sub-handler\\subhandler-key.ts\n\nconst eventKeyupManage = h => {\n  return e => {\n    if (e.key === 'Enter') {\n      const target = e.target;\n      const messages = target.value.length > 0 ? target.value.trim() : '';\n      if (messages.length > 0 || !(typeof JSON.parse(localStorage.getItem('data')).fileId).includes('boolean')) {\n        h(e);\n      }\n    }\n    ;\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (eventKeyupManage);\n\n//# sourceURL=webpack://shop/./src/scripts/services/handlers/messages/sub-handler/subhandler-key.ts?");

/***/ }),

/***/ "./src/scripts/services/handlers/scrolling.ts":
/*!****************************************************!*\
  !*** ./src/scripts/services/handlers/scrolling.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ scrollToBottom)\n/* harmony export */ });\nfunction scrollToBottom() {\n  const chatBox = document.querySelector('#chat');\n  if (chatBox === null) {\n    return;\n  }\n  chatBox.scrollTo({\n    top: document.body.scrollHeight,\n    behavior: 'smooth'\n  });\n}\n\n//# sourceURL=webpack://shop/./src/scripts/services/handlers/scrolling.ts?");

/***/ }),

/***/ "./src/scripts/services/links-files.ts":
/*!*********************************************!*\
  !*** ./src/scripts/services/links-files.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * @param `arr`: `number[]'.  That array from the `id` files\n * @returns `string[]` That links of files\n */\nasync function getLinksToFile(arr) {\n  const url = new URL('api/v1/chat/upload/files/', 'http://127.0.0.1:8000/');\n  url.searchParams.set('indexes', String(arr));\n  const response = await fetch(url, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  if (response.ok) {\n    // debugger\n    const data = await response.json();\n    console.info('[createChatMessage > LINK]:', data);\n    const dataList = JSON.parse(data.files).linkList;\n    const result = dataList.slice(0);\n    return result;\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getLinksToFile);\n\n//# sourceURL=webpack://shop/./src/scripts/services/links-files.ts?");

/***/ }),

/***/ "./src/scripts/services/message.ts":
/*!*****************************************!*\
  !*** ./src/scripts/services/message.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// app_messager\\frontend\\src\\scripts\\services\\message.ts\nfunction getTextOfInput() {\n  const messageInputHtml = document.querySelector('#messager');\n  const massage_ = messageInputHtml !== null ? messageInputHtml.value : 'NoN';\n  return massage_;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getTextOfInput);\n\n//# sourceURL=webpack://shop/./src/scripts/services/message.ts?");

/***/ }),

/***/ "./src/scripts/services/oop/files.ts":
/*!*******************************************!*\
  !*** ./src/scripts/services/oop/files.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FServices: () => (/* binding */ FServices)\n/* harmony export */ });\n/* harmony import */ var _post__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./post */ \"./src/scripts/services/oop/post.ts\");\n/* harmony import */ var _pushes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pushes */ \"./src/scripts/services/oop/pushes.ts\");\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n// app_messager\\frontend\\src\\scripts\\services\\handlers\\files\\handler_input-file.ts\n// import handlerFileOne from '@Service/handlers/files/deletes';\n\n\nlet APP_MESSAGER_SERVER_URL_ORIGEN = \"http://127.0.0.1\";\nlet APP_MESSAGER_SERVER_URL_PORT = \"8000\";\nif (APP_MESSAGER_SERVER_URL_ORIGEN === undefined) {\n  APP_MESSAGER_SERVER_URL_ORIGEN = window.location.origin;\n}\nif (APP_MESSAGER_SERVER_URL_PORT === undefined) {\n  APP_MESSAGER_SERVER_URL_PORT = '8000';\n}\n\n/**\r\n * Methods:\r\n * - `receiveHrefsFiles` It SET-function. By completed received the `readonly this.fileNameArr` it's array of the one public file.\r\n * - `receiveHrefsFiles` It GET-function. Returns datas of  `this.fileNameArr`\r\n * - `receivedDatasetAll` it's array of the one public file. `{ dataPost: string, dataId: string, pathnames: string[] }`\r\n * - `handlerDeleteFileOne` That is a listener the action click from object `<li>..<div class=\"bucke\">`.\r\n * - `deletesFetch` That making request for the delete data. Returns `Promis<boolean>`\r\n */\nclass FServices extends _pushes__WEBPACK_IMPORTED_MODULE_1__.Push {\n  constructor(name) {\n    super(name);\n    _defineProperty(this, \"fileNameArr\", void 0);\n    this.fileNameArr = [];\n  }\n\n  /**\r\n   *  On the entrypoint received `box`: `HTMLCollectionOf<HTMLAnchorElement>`. \\\r\n    * @params `anchors`: `HTMLCollectionOf<HTMLAnchorElement>`. It's box  -> `<div class='download>`. His contain files for the one message, on the page \\\r\n    * Code 'object.receiveMessage = ...'\r\n    * In completed received a `this.fileNameArr`. That is type `string[]`.\\\r\n    *\r\n    * The `this.fileNameArr` it's array of the one public file. `{ dataPost: string, dataId: string, pathnames: string[] }`\r\n   */\n  set receiveHrefsFiles(anchors) {\n    const files = anchors;\n    for (let i = 0; i < files.length; i++) {\n      if (files[i].href.includes('media/')) {\n        const oneHref = 'media/' + files[i].href.split('media/')[1];\n        this.fileNameArr.push(oneHref);\n      } else {\n        console.log('[FService > files] This reference not is a media file');\n      }\n    }\n  }\n\n  /**\r\n   * @returns it's array of the one public file. `{ dataPost: string, dataId: string, pathnames: string[] }`\r\n   */\n  get receiveHrefsFiles() {\n    const result = this.fileNameArr;\n    return result;\n  }\n\n  /**\r\n   * @returns Data type that\r\n   * `{\r\n      dataPost: string\r\n      dataId: string\r\n      files: string[]\r\n    }`\r\n   * There: \\\r\n   * `dataPost` is data from the html `data-post` \\\r\n   * `dataId` is data from the html `data-id` \\\r\n   * `files` is  URL datas from the html box `<div class='download>`\r\n   */\n  receivedDatasetAll() {\n    const dataset = this.receivedDataset();\n    if (dataset.dataId === undefined || dataset.dataPost === undefined) {\n      console.log('[FService > dataTotal] Datas not found');\n      return;\n    }\n    const postId_ = dataset.dataPost;\n    const userId_ = dataset.dataId;\n    const filesArr = this.receiveHrefsFiles;\n    return {\n      dataPost: postId_,\n      dataId: userId_,\n      pathnames: filesArr\n    };\n  }\n\n  /**\r\n   * That is a listener the action click from object `<li>..<div class=\"bucke\">`.\r\n   * @param `e`: `MouseEvent`\r\n   * @returns Promise<boolean>\r\n   */\n  async handlerDeleteFileOne(e) {\n    // debugger;\n    const target = e.target;\n    const currentTargetLi = e.currentTarget;\n    let fileIndex = currentTargetLi.dataset.ind;\n    if (!currentTargetLi.tagName.toLowerCase().includes('li')) {\n      fileIndex = currentTargetLi.parentElement.dataset.ind;\n    }\n    // debugger\n    const dataset = currentTargetLi.parentElement.parentElement.parentElement.dataset;\n    let path = '';\n    // debugger\n    if (String(target.classList).includes('bucke')) {\n      const arr = Array.from(currentTargetLi.childNodes);\n      /**\r\n       * `arr` got a much of the different elements. \\\r\n       * But here is need get an one\r\n       */\n      for (let i = 0; i < arr.length; i++) {\n        const htmlElem = arr[i];\n        if (String(htmlElem.classList).includes('one-file')) {\n          const pathname = htmlElem.href.split('media/');\n          path = pathname[pathname.length - 1];\n        }\n      }\n      dataset.pathname = path;\n      const metaRequest = {\n        postId: dataset.post.slice(0),\n        userId: dataset.id.slice(0),\n        pathname: dataset.pathname.slice(0),\n        fileInd: fileIndex\n      };\n      // debugger\n      await this.deleteFetchOneFile(metaRequest);\n      /* ----------------------------------------------------------------- */\n      // const socket = new WSocket('ws://127.0.0.1:8000/ws/chat/delete/');\n      // socket.beforeSend(JSON.stringify(metaRequest));\n\n      // (currentTargetLi).remove();\n      return true;\n    }\n    console.log('[FServices > handlerDeleteFileOne] Something that wrong!');\n    return false;\n  }\n  /**\r\n   * In entrypoint receive the proporties a `props`  and making request for the delete data\r\n   * @param `props`: `{ postId: string, userId: string, pathname: string }`\r\n   * @returns Promise<boolean> is a`true` that request passed Ok. If `false` - something that wrong to the request.\r\n   */\n  async deleteFetchOneFile(props) {\n    const {\n      postId,\n      fileInd\n    } = {\n      ...props\n    };\n    const domen = APP_MESSAGER_SERVER_URL_ORIGEN.split(':').length > 2 ? APP_MESSAGER_SERVER_URL_ORIGEN : APP_MESSAGER_SERVER_URL_ORIGEN + ':' + APP_MESSAGER_SERVER_URL_PORT;\n    const name = this.element;\n    const post = new _post__WEBPACK_IMPORTED_MODULE_0__.Post(name);\n    // debugger\n    const propsAll = {\n      postId: postId !== undefined ? (typeof postId).includes('string') ? postId : String(postId) : String(-1),\n      file_id: fileInd !== undefined ? (typeof fileInd).includes('string') ? fileInd : String(fileInd) : String(-1)\n    };\n    await post.removePostFile(propsAll);\n  }\n\n  /**\r\n   * Entry point has a one paramenter. That `elements`, his get an object collection fron the `[<li>..<div class=\"bucke\">]`.\r\n   * @param `elements`: `HTMLCollectionOf<HTMLLIElement>`\\\r\n   * Everyone element ``<li>..<div class=\"bucke\">` get a listener action by 'click'. \\\r\n   *  Click by `< html-element class=\"bucke\">.\r\n   * @returns avoid\r\n   */\n  handlerRemoveAdd(elements) {\n    const handlerDeleteFileOne = this.handlerDeleteFileOne.bind(this);\n    Array.from(elements).forEach(elem => {\n      elem.onclick = null;\n      elem.onclick = handlerDeleteFileOne;\n    });\n  }\n}\n\n//# sourceURL=webpack://shop/./src/scripts/services/oop/files.ts?");

/***/ }),

/***/ "./src/scripts/services/oop/pencils.ts":
/*!*********************************************!*\
  !*** ./src/scripts/services/oop/pencils.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Pencil: () => (/* binding */ Pencil)\n/* harmony export */ });\n/* harmony import */ var _handlers_messages_old_message_paste_quote__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../handlers/messages/old-message/paste-quote */ \"./src/scripts/services/handlers/messages/old-message/paste-quote.ts\");\n/* harmony import */ var _handlers_messages_get_messages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../handlers/messages/get-messages */ \"./src/scripts/services/handlers/messages/get-messages.ts\");\n/* harmony import */ var _handlers_messages_old_message_old_messages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../handlers/messages/old-message/old-messages */ \"./src/scripts/services/handlers/messages/old-message/old-messages.ts\");\n/* harmony import */ var _files__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./files */ \"./src/scripts/services/oop/files.ts\");\n/* harmony import */ var _htmlTemplates_file__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @htmlTemplates/file */ \"./src/scripts/templates/file.ts\");\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n// app_messager\\frontend\\src\\scripts\\services\\oop\\pencils.ts\n\n\n\n\n\n\n\n/**\n * Methods: \\\n * `fGet` is :\n *  - `ContentType` That is basice proporties of the fetch.  Exemple this is `{Content-Type: 'application/json'}`/\n *  - `cache?` That is basice proporties of the fetch. Exemple this is 'no-cache' /\n *  - `mode?` That is basice proporties of the fetch. Exemple this is `cors`\n *\n * `fGet` entrypoint has `fGet(props: RequestHeaders)` where \\\n * `{ContentType: string, cache: string|undefined,  mode: string| undefined}`\n */\nclass Pencil extends _files__WEBPACK_IMPORTED_MODULE_3__.FServices {\n  constructor(name) {\n    super(name);\n    _defineProperty(this, \"emptyvar\", void 0);\n    this.emptyvar = []; // просто заглушка для eslintrc\n  }\n  getFileHtmlLi(pathnames) {\n    let result = '';\n    for (let i = 0; i < pathnames.length; i++) {\n      const fileTemplate = (0,_htmlTemplates_file__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([pathnames[i]]);\n      result += fileTemplate;\n    }\n    return result;\n  }\n  handlerPencilPost(e) {\n    if (e.defaultPrevented) {\n      console.log('[Pencil > target] \"Event used before!');\n      return;\n    }\n    const target = e.target;\n    if (!String(target.classList).includes('pencil')) {\n      console.log('[Pencil > target] target is not \"pencil\"!');\n      return;\n    }\n    const currentTarget = e.currentTarget;\n    if (currentTarget !== null && !('post' in currentTarget.dataset)) {\n      return;\n    }\n    ;\n\n    /* get URL of files */\n    const htmlDownLoadArr = currentTarget.getElementsByClassName('download');\n    if (htmlDownLoadArr.length > 0) {\n      const anchors = htmlDownLoadArr[0].getElementsByClassName('one-file');\n      if (anchors.length === 0) {\n        console.log('[Pencil > handlerPencilPost] Datas not found!');\n      } else {\n        this.receiveHrefsFiles = anchors;\n      }\n    }\n\n    /* 'message as quote' -thet is old post from the window chat */\n    const message = currentTarget.getElementsByClassName('user-message')[0].innerText;\n    /* ------ 1/2 Quoted ------ */\n    const quote = (0,_handlers_messages_old_message_paste_quote__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(message);\n\n    /* ------ LocaStorage and Receive post data------ */\n    if (localStorage.getItem('data') === null) {\n      console.log('[Pencil > handlerPencilPost > localStorage] the \"data\" from the localStorage not found');\n      return;\n    }\n    const dataObj = this.receivedDatasetAll();\n    if (dataObj !== undefined) {\n      const {\n        dataPost,\n        dataId,\n        pathnames\n      } = {\n        ...dataObj\n      };\n      const localS = localStorage.getItem('data');\n      const localSJson = JSON.parse(localS);\n      localSJson.postId = dataPost;\n      localSJson.userId = dataId;\n      localSJson.pathnames = pathnames;\n      localStorage.setItem('data', JSON.stringify(localSJson));\n      /* ------ Quoted files reference. That repeats the references from the post above */\n\n      const refer = '<ul>' + this.getFileHtmlLi(pathnames) + '</ul>';\n      const refResult = refer.length > 10 ? \"<div class=\\\"download repeat\\\">\".concat(refer, \"</div>\") : '';\n      /* ------ 2/2 Quoted ------ */\n      quote(refResult);\n\n      /* manage styles */\n      const boxMessage = document.getElementById('message');\n      if (boxMessage === null) {\n        console.log('[addQuote]: Html input not found');\n        return;\n      }\n      const htmlQuoteArr = boxMessage === null || boxMessage === void 0 ? void 0 : boxMessage.getElementsByClassName('quote');\n      const htmlDownloadArr = boxMessage === null || boxMessage === void 0 ? void 0 : boxMessage.getElementsByClassName('download');\n      if (htmlQuoteArr.length > 0 && htmlDownloadArr.length > 0) {\n        const htmlLiArr = htmlDownloadArr[0].getElementsByTagName('li');\n        if (htmlLiArr.length === 0) {\n          console.log('[Pencil > handlerPencilPost > LI]: Something that wrong!');\n        }\n        /* ------ 0/3 pencil ------ */\n        // const parent = new Pencil(htmlQuoteArr[0] as HTMLDivElement);\n        this.element = htmlQuoteArr[0];\n        this.postStylesHeight(htmlDownloadArr[0]);\n\n        // debugger\n      }\n      ;\n    }\n\n    /* 2/3 added the event listener to the input form . It is change of the listener */\n    (0,_handlers_messages_get_messages__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_handlers_messages_old_message_old_messages__WEBPACK_IMPORTED_MODULE_2__[\"default\"])());\n  }\n  addEvent() {\n    const handlerPencilPost = this.handlerPencilPost.bind(this); // this.handlerPencilPost; //\n    this.element.onclick = handlerPencilPost;\n  }\n  start() {\n    this.addEvent();\n  }\n}\n;\n\n//# sourceURL=webpack://shop/./src/scripts/services/oop/pencils.ts?");

/***/ }),

/***/ "./src/scripts/services/oop/post.ts":
/*!******************************************!*\
  !*** ./src/scripts/services/oop/post.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Post: () => (/* binding */ Post)\n/* harmony export */ });\n/* harmony import */ var _requeres__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./requeres */ \"./src/scripts/services/oop/requeres.ts\");\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\nclass Post extends _requeres__WEBPACK_IMPORTED_MODULE_0__.FRequeres {\n  constructor(url) {\n    super(url);\n    _defineProperty(this, \"emptyvar\", []);\n    this.emptyvar = []; // просто заглушка для eslintrc\n  }\n\n  /**\n   * This is a async method received datas about one post/message from the chat\n   * @param `props`: `{postId: string, userId: string, pathname: string}`\n   * * Here a pathname of URL is `api/v1/post/get/<your id from the html attribute 'data-post' >/`\n   * @returns;\n   */\n  async getFetchOneProfile(props) {\n    const {\n      postId\n    } = {\n      ...props\n    };\n    const url = new URL(\"api/v1/post/get/\".concat(Number(postId), \"/\"), 'http://127.0.0.1:8000/');\n    this.urls = url;\n    const contentType = 'application/json';\n    const responce = await this.get({\n      contentType\n    });\n    return responce;\n  }\n\n  /**\n   * This method is specially for a lookup everyone object from db, which hase identical the text. \\\n   * This text should be from the name column 'content'. \\\n   * @param `props`: `{postId: string|undefined, authorId: string,  groupId: string|undefined, message: string}` \\\n   * Here a pathname of URL is `api/v1/post/get/`\n   * @returns;\n   */\n  async getFetchFindProfiles(props) {\n    const {\n      postId,\n      authorId,\n      groupId = undefined,\n      message = undefined\n    } = {\n      ...props\n    };\n    // const domen = ((APP_MESSAGER_SERVER_URL_ORIGEN as string).split(':').length > 2) ? APP_MESSAGER_SERVER_URL_ORIGEN : APP_MESSAGER_SERVER_URL_ORIGEN + ':' + APP_MESSAGER_SERVER_URL_PORT;\n    const url = new URL('api/v1/post/get/', 'http://127.0.0.1:8000/');\n    url.searchParams.set('author_id', authorId);\n    if (postId !== undefined) {\n      url.searchParams.append('post_id', postId);\n    }\n    if (groupId !== undefined) {\n      url.searchParams.append('group_id', groupId);\n    }\n    if (message !== undefined) {\n      url.searchParams.append('content', message);\n    }\n    this.urls = url;\n    const contentType = 'application/json';\n    const responce = await this.get({\n      contentType\n    });\n    return responce;\n  }\n  async removePostFile(props) {\n    const {\n      file_id,\n      postId\n    } = {\n      ...props\n    };\n    const url = new URL('api/v1/chat/delete/file/', 'http://127.0.0.1:8000/');\n    const err = new Error();\n    err.name = '[Post > removePostFile]';\n    if (postId === undefined) {\n      err.message = \"Somethefing tha wrong! Not found \\\"postId\\\": \".concat(postId);\n      throw err;\n    }\n    url.searchParams.set('post_id', postId);\n    if (file_id === undefined) {\n      err.message = \"Somethefing tha wrong! Not found file_id: \".concat(file_id);\n      throw err;\n    }\n    url.searchParams.append('file_id', file_id);\n    this.urls = url;\n    let response = '';\n    response = await this.removeFile();\n    if ((typeof response).includes('string') && response.includes('OK')) {\n      return true;\n    }\n    return false;\n  }\n}\n\n\n//# sourceURL=webpack://shop/./src/scripts/services/oop/post.ts?");

/***/ }),

/***/ "./src/scripts/services/oop/pushes.ts":
/*!********************************************!*\
  !*** ./src/scripts/services/oop/pushes.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Push: () => (/* binding */ Push)\n/* harmony export */ });\n/* harmony import */ var _requeres__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./requeres */ \"./src/scripts/services/oop/requeres.ts\");\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\nclass Push extends _requeres__WEBPACK_IMPORTED_MODULE_0__.FRequeres {\n  constructor(name) {\n    let url = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window.location.origin;\n    super(url);\n    _defineProperty(this, \"element\", void 0);\n    this.element = name;\n  }\n\n  /**\r\n   * That is a listener for post object of the chat. \\\r\n   * it a box which contain all html/post th single message from the chat\r\n   * @returns that a'data-pos' and 'data-id' --> '{ dataPost: post, dataId: userId }'\r\n   */\n  receivedDataset() {\n    const post = this.element.dataset.post;\n    const userId = this.element.dataset.id;\n    return {\n      dataPost: post,\n      dataId: userId\n    };\n  }\n\n  /**\r\n   * Then need update a style `padding-top` for a box `<div class=\"box-message\"` that a method using\r\n   * @param `view`: `HTMLDivElement` child elemen. It's a source size\r\n   * @returns HTMLDivElement parent\r\n   */\n  postStylesHeight(view) {\n    const boxReffDownloadHeight = view.offsetHeight;\n    this.element.style.paddingTop = String(boxReffDownloadHeight + 2) + 'px';\n    return this.element;\n  }\n}\n\n//# sourceURL=webpack://shop/./src/scripts/services/oop/pushes.ts?");

/***/ }),

/***/ "./src/scripts/services/oop/requeres.ts":
/*!**********************************************!*\
  !*** ./src/scripts/services/oop/requeres.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FRequeres: () => (/* binding */ FRequeres)\n/* harmony export */ });\n/* harmony import */ var _Service_cookies__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @Service/cookies */ \"./src/scripts/services/cookies.ts\");\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n/**\n * `ContentType` That is basice proporties of the fetch.  Exemple this is `{Content-Type: 'application/json'}`/\n * `caches?` That is basice proporties of the fetch. Exemple this is 'no-caches' /\n * `modes?` That is basice proporties of the fetch. Exemple this is `cors` /\n * MEthods:\n *  - `fGet` Entrypoints is`fGet(props: RequestHeaders)` where \\\n * `{ContentType: string, caches: string|undefined,  modes: string| undefined}`\n}`\n */\nclass FRequeres {\n  constructor(url) {\n    _defineProperty(this, \"urls\", void 0);\n    this.urls = url;\n  }\n\n  /**\n   * That is a Fetch request.\n   * @param `props` of `fGet` is \\\n   * `{ContentType: string, caches: string|undefined,  modes: string| undefined}`\n   * @param `props.caches` by default is `undefined`\n   * @param `props.modes` by default is `undefined`\n   * @returns  Promise<object> or Error;\n   */\n  async get(props) {\n    const {\n      contentType,\n      caches = undefined,\n      modes = undefined\n    } = {\n      ...props\n    };\n    const url = this.urls;\n    /* ------ */\n    if (url === undefined) {\n      const err = new Error(url);\n      err.name = '[FRequeres > fGet] GET:';\n      throw err;\n      // console.log('[FRequeres > fGet]:  Something that wrong with URL -> ', url);\n      // return undefined;\n    }\n    /* ------ */\n    // let response: unknown | Promise<T> = {};\n    const h = {\n      'Content-Type': contentType\n    };\n    if (caches !== undefined) {\n      h.cache = caches;\n    }\n    if (modes !== undefined) {\n      h.mode = modes;\n    }\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: h\n    });\n    if (!response.ok) {\n      // const err = new Error(response.statusText);\n      // err.name = '[FRequeres > fGet] GET:';\n      // throw err;\n      console.log('[FRequeres > fGet] GET: Not Found');\n      return false;\n    }\n    const responseJson = await response.json();\n    return responseJson;\n  }\n\n  /**\n   * `id` for a remove through URL \\\n   * `api/v1/chat/delete/file/` - for a remove file \\\n   * Used is `removeFile(index)` or `removeFile(undefined, index)` \\\n   * @param `index` : `undefined|string' is for one file. That value default have `undefined`\n   * @param `indexes` : `undefined|number[]' is for one list files. That value default have `undefined`\n   * */\n  async removeFile() {\n    const url = this.urls;\n    // debugger\n    const response = await fetch(url, {\n      'X-CSRFToken': (0,_Service_cookies__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('csrftoken'),\n      method: 'DELETE',\n      cache: 'no-cache',\n      mode: 'cors'\n    });\n    /*   */\n    debugger;\n    if (!response.ok) {\n      const err = new Error(String(response.ok));\n      err.name = '[FServices > removeFile]';\n      throw err;\n    }\n    ;\n    return 'Ok';\n  }\n}\n;\n\n//# sourceURL=webpack://shop/./src/scripts/services/oop/requeres.ts?");

/***/ }),

/***/ "./src/scripts/services/postmen/sendler-up-message.ts":
/*!************************************************************!*\
  !*** ./src/scripts/services/postmen/sendler-up-message.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Service_cookies__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @Service/cookies */ \"./src/scripts/services/cookies.ts\");\n/* harmony import */ var _Service_message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @Service/message */ \"./src/scripts/services/message.ts\");\n// app_messager\\frontend\\src\\scripts\\services\\postmen\\sendler-up-message.ts\n\n\n\nlet APP_MESSAGER_SERVER_URL_ORIGEN = \"http://127.0.0.1\";\nif (APP_MESSAGER_SERVER_URL_ORIGEN === undefined) {\n  APP_MESSAGER_SERVER_URL_ORIGEN = window.location.origin;\n}\nlet APP_MESSAGER_SERVER_URL_PORT = \"8000\";\nif (APP_MESSAGER_SERVER_URL_PORT === undefined) {\n  APP_MESSAGER_SERVER_URL_PORT = '8000';\n}\nconst changeOldPost = async event => {\n  /* ------ LocalStorage ------ */\n  const localS = localStorage.getItem('data');\n  const localSJson = JSON.parse(localS);\n  localStorage.setItem('data', JSON.stringify(localSJson));\n  const postId_ = localSJson.postId;\n  const files_ = (typeof localSJson.fileId).includes('string') ? JSON.parse(localSJson.fileId).list_indexes : false;\n  const massage_ = (0,_Service_message__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n  /* ------ Fetch & PATCH for one message which did user be posted & the single column ------ */\n\n  const domen = APP_MESSAGER_SERVER_URL_ORIGEN.split(':').length > 2 ? APP_MESSAGER_SERVER_URL_ORIGEN : APP_MESSAGER_SERVER_URL_ORIGEN + ':' + APP_MESSAGER_SERVER_URL_PORT;\n  const url = new URL(\"api/v1/chat/update/\".concat(Number(postId_), \"/\"), 'http://127.0.0.1:8000/');\n  const response = await fetch(url, {\n    method: 'PATCH',\n    headers: {\n      'X-CSRFToken': (0,_Service_cookies__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('csrftoken'),\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      content: String(massage_)\n    })\n  });\n  if (!response.ok) {\n    console.log('[changeOldPost > PATCH] response is not a true');\n    return {\n      response: false\n    };\n  }\n  const reresponseJson = await response.json();\n  return reresponseJson;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (changeOldPost);\n\n//# sourceURL=webpack://shop/./src/scripts/services/postmen/sendler-up-message.ts?");

/***/ }),

/***/ "./src/scripts/services/postmen/sendler_message.ts":
/*!*********************************************************!*\
  !*** ./src/scripts/services/postmen/sendler_message.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Service_cleaner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @Service/cleaner */ \"./src/scripts/services/cleaner.ts\");\n/* harmony import */ var _Service_handlers_getDataTime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @Service/handlers/getDataTime */ \"./src/scripts/services/handlers/getDataTime.ts\");\n/* harmony import */ var _Service_message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @Service/message */ \"./src/scripts/services/message.ts\");\n/* harmony import */ var _Websocket__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @Websocket */ \"./src/scripts/websockets/index.ts\");\n// app_messager\\frontend\\src\\scripts\\services\\sendler_message.ts\n\n\n\n\n\nconst socket = new _Websocket__WEBPACK_IMPORTED_MODULE_3__.WSocket('ws://127.0.0.1:8000/ws/chat/');\n/**\n *!! ключ группы изменить на динамический !!\n * @param 'corrects:boolean' That is 'true' then is event by send the new message. \\\n * If value is 'false', than send the old message.  It's a post wich has a correcte\n * @returns Promise<void>\n */\nconst handlerSendlerMessageTotal = function () {\n  let corrects = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return async e => {\n    let fileIdArr = [];\n    let timeItervale;\n\n    /* localStorage */\n    const dataLocalJson = JSON.parse(localStorage.getItem('data'));\n    if (dataLocalJson.fileId === true) {\n      timeItervale = setTimeout(() => {\n        handlerSendlerMessageTotal(e);\n      }, 300);\n      return;\n    } else if (!(typeof dataLocalJson.fileId).includes('boolen')) {\n      clearTimeout(timeItervale);\n      fileIdArr = JSON.parse(dataLocalJson.fileId).list_indexes;\n    }\n    const target = e.target;\n    const curranTarget = e.currentTarget !== null ? e.currentTarget : e.target;\n\n    // const messages = ((target.type).includes('submit')) ? ((curranTarget as HTMLElement).querySelector('#messager') as HTMLInputElement).value.trim() : target.value.trim();\n    const messages = (0,_Service_message__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n    const indexUser = target.dataset.id;\n    const datetime = _Service_handlers_getDataTime__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getFullTime();\n    const lstorage = localStorage.getItem('data');\n    const pathnamesArr = lstorage !== undefined && lstorage.length > 10 ? JSON.parse(lstorage).pathnames : [];\n    // !!hдобавлен 'pathnames' из цитаты добавить еще файлы которые выбираем в момент редактирования!!!!!!!!!!!!!\n    // Есть id файлов при редактировании\n    const postIndex = localStorage.getItem('data') !== null ? JSON.parse(localStorage.getItem('data')).postId : -1;\n    if (postIndex < 0) {\n      console.log('[handlerSendlerMessageTotal > corrects TRUE]: something is thrang. That is \"postId\" not found');\n      return;\n    }\n    if ((typeof fileIdArr).includes('object')) {\n      /* if 'corrects' is 'true' that is message edit */\n      if (!corrects) {\n        socket.beforeSend(String([JSON.stringify({\n          corrects,\n          eventtime: datetime,\n          message: messages,\n          userId: indexUser,\n          groupId: '7a3a744a-64ab-492b-89bf-9ee7c72b91f1',\n          fileIndex: fileIdArr\n        })]));\n        await socket.dataSendNow();\n      } else {\n        socket.beforeSend(String([JSON.stringify({\n          corrects,\n          eventtime: datetime,\n          message: messages,\n          userId: indexUser,\n          groupId: '7a3a744a-64ab-492b-89bf-9ee7c72b91f1',\n          fileIndex: fileIdArr,\n          postId: postIndex,\n          pathnames: pathnamesArr\n        })]));\n        await socket.dataSendNow();\n      }\n    } else {\n      if (!corrects) {\n        socket.beforeSend(String([JSON.stringify({\n          corrects,\n          eventtime: datetime,\n          message: messages,\n          userId: indexUser,\n          groupId: '7a3a744a-64ab-492b-89bf-9ee7c72b91f1'\n        })]));\n        await socket.dataSendNow();\n      } else {\n        socket.beforeSend(String([JSON.stringify({\n          corrects,\n          eventtime: datetime,\n          message: messages,\n          userId: indexUser,\n          groupId: '7a3a744a-64ab-492b-89bf-9ee7c72b91f1',\n          postId: postIndex,\n          pathnames: pathnamesArr\n        })]));\n        await socket.dataSendNow();\n      }\n    }\n    (0,_Service_cleaner__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handlerSendlerMessageTotal);\n\n//# sourceURL=webpack://shop/./src/scripts/services/postmen/sendler_message.ts?");

/***/ }),

/***/ "./src/scripts/templates/checkers/checkUseId.ts":
/*!******************************************************!*\
  !*** ./src/scripts/templates/checkers/checkUseId.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ checkerUserId)\n/* harmony export */ });\n// app_messager\\frontend\\src\\scripts\\templates\\checkers\\checkUseId.ts\n\nfunction checkerUserId(userId) {\n  const inputHtml = document.getElementById('messager');\n  if (inputHtml === null) {\n    console.error('[templates/messages.ts > checkYourOnNotYour]: ERROR. What something wrong with the \"inputHtml\"!');\n    return;\n  }\n  const inputUserId = inputHtml.dataset.id;\n  if (inputUserId === undefined) {\n    console.error('[templates/messages.ts > checkYourOnNotYour]: ERROR. What something wrong with the \"inputUserId\"!');\n    return;\n  }\n  const userIdNumber = (typeof userId).includes('string') ? Number(userId) : userId;\n  const result = userIdNumber === Number(inputUserId);\n  return result;\n}\n\n//# sourceURL=webpack://shop/./src/scripts/templates/checkers/checkUseId.ts?");

/***/ }),

/***/ "./src/scripts/templates/checkers/checker_time.ts":
/*!********************************************************!*\
  !*** ./src/scripts/templates/checkers/checker_time.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ checkOfTime)\n/* harmony export */ });\n/* harmony import */ var _Service_handlers_getDataTime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @Service/handlers/getDataTime */ \"./src/scripts/services/handlers/getDataTime.ts\");\n// app_messager\\frontend\\src\\scripts\\templates\\checker_time.ts\n\nfunction checkOfTime(dateTime) {\n  const oldDate = dateTime.split('@')[0];\n  const t = dateTime.split('@')[1];\n  if (oldDate.includes(_Service_handlers_getDataTime__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getNowDate())) {\n    return t;\n  }\n  ;\n  const d = dateTime.split('@')[0];\n  return d + ' ' + t;\n}\n\n//# sourceURL=webpack://shop/./src/scripts/templates/checkers/checker_time.ts?");

/***/ }),

/***/ "./src/scripts/templates/file.ts":
/*!***************************************!*\
  !*** ./src/scripts/templates/file.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// app_messager\\frontend\\src\\scripts\\templates\\file.ts\n\nfunction file(ref) {\n  // (linkFilesArr[i].split('/'))[len - 1]\n  const liHtml = document.createElement('li');\n  if (ref.length > 1) {\n    liHtml.dataset.ind = ref[1];\n  }\n  if (ref[0].includes('media/')) {\n    ref[0] = ref[0].slice('media/'.length);\n  }\n  const urlOrigin = window.location.origin;\n  const reffArrLength = ref[0].split('/').length;\n\n  // debugger\n  /* class=\"bucke\" !! */\n  const refLi = \"<a target=\\\"_blank\\\" class='one-file' href=\\\"\".concat(urlOrigin, \"/media/\").concat(ref[0], \"\\\">\").concat(ref[0].split('/')[reffArrLength - 1], \"</a>\\n        <div class=\\\"bucke\\\">\\n          <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"currentColor\\\" class=\\\"bucke bi bi-bucket\\\" viewBox=\\\"0 0 16 16\\\">\\n            <path d=\\\"M2.522 5H2a.5.5 0 0 0-.494.574l1.372 9.149A1.5 1.5 0 0 0 4.36 16h7.278a1.5 1.5 0 0 0 1.483-1.277l1.373-9.149A.5.5 0 0 0 14 5h-.522A5.5 5.5 0 0 0 2.522 5m1.005 0a4.5 4.5 0 0 1 8.945 0zm9.892 1-1.286 8.574a.5.5 0 0 1-.494.426H4.36a.5.5 0 0 1-.494-.426L2.58 6h10.838z\\\"/>\\n          </svg>\\n        </div>\");\n  liHtml.innerHTML = refLi;\n  return liHtml.outerHTML;\n}\n;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (file);\n\n//# sourceURL=webpack://shop/./src/scripts/templates/file.ts?");

/***/ }),

/***/ "./src/scripts/templates/messages.ts":
/*!*******************************************!*\
  !*** ./src/scripts/templates/messages.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createChatMessage: () => (/* binding */ createChatMessage)\n/* harmony export */ });\n/* harmony import */ var _Service_handlers_scrolling__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @Service/handlers/scrolling */ \"./src/scripts/services/handlers/scrolling.ts\");\n/* harmony import */ var _checkers_checkUseId__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./checkers/checkUseId */ \"./src/scripts/templates/checkers/checkUseId.ts\");\n/* harmony import */ var _checkers_checker_time__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./checkers/checker_time */ \"./src/scripts/templates/checkers/checker_time.ts\");\n/* harmony import */ var _Service_oop_pencils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @Service/oop/pencils */ \"./src/scripts/services/oop/pencils.ts\");\n/* harmony import */ var _file__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./file */ \"./src/scripts/templates/file.ts\");\n/* harmony import */ var _Service_links_files__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @Service/links-files */ \"./src/scripts/services/links-files.ts\");\n// app_messager\\frontend\\src\\scripts\\templates\\messages.ts\n\n\n\n\n\n\n\n/**\r\n * This's function insert a new message to the chat.\r\n * @param `userId` - thi's user id of the user who is senter\r\n * @param 'dataTime' - it's the time then user sends the message.\r\n * We gets from a data format: \"eventtime\":\"2024-4-13@6:2:14:38\"\r\n * @param `authorId` - This's a name. It's who is sends.\r\n * @param 'message' - This's the message's text.\r\n * @returns html-text of a box.\r\n */\nasync function createChatMessage(_ref) {\n  let {\n    authorId,\n    dataTime,\n    message,\n    groupId = undefined,\n    postId = '',\n    filesId = []\n  } = _ref;\n  /*\r\n    we change the group number.\r\n  */\n  const groupNumber = document.getElementById('group');\n  if (groupNumber === null || groupId === undefined || groupNumber.dataset.groupid === undefined || !groupNumber.dataset.groupid.includes(groupId)) {\n    return;\n  }\n  let linkFilesArr = [];\n  if (filesId !== undefined && (typeof filesId).includes('object') && filesId.length > 0) {\n    // if ((filesIndexes !== undefined) && ((typeof filesIndexes).includes('object'))) {\n    /** indexes of the files inserted to the parameters from the URL */\n    linkFilesArr = await (0,_Service_links_files__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(filesId);\n  }\n\n  /**\r\n   * insert the message box in chat\r\n   */\n  const htmlChat = groupNumber.querySelector('#chat');\n  if (htmlChat === null) {\n    return;\n  }\n  const htmlMessage = document.createElement('div');\n  if (message === undefined || (typeof message).includes('string') && message.length === 0 && filesId.length === 0) {\n    return;\n  }\n\n  /*  file's links adding to the message */\n  let refer = '<ul>';\n  if (linkFilesArr.length > 0) {\n    for (let i = 0; i < linkFilesArr.length; i++) {\n      refer += (0,_file__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(linkFilesArr[i]);\n    }\n  }\n  refer += '</ul>';\n\n  /* ------ message box ------ */\n  const resultCheckUser = (0,_checkers_checkUseId__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(authorId);\n  if (resultCheckUser !== undefined) {\n    // dataTime.replace(/[: @]/g, '-')\n    /* 'postId' - data receeiving from the db's timestamp */\n    htmlMessage.dataset.post = String(postId);\n    htmlMessage.innerHTML = refer.length > 10 ? \"<div class=\\\"download\\\">\".concat(refer, \"</div>\") : '';\n    htmlMessage.innerHTML += \"\\n      <div >\\n        <img src=\\\" https://bootdey.com/img/Content/avatar/avatar3.png\\\" class=\\\"rounded-circle mr-1\\\" alt=\\\"Sharon Lessman\\\"\\n          width=\\\"40\\\" height=\\\"40\\\" />\\n        <div class=\\\"text-muted small text-nowrap mt-2\\\">\".concat((0,_checkers_checker_time__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(dataTime), \"</div>\\n      </div>\\n      <div class=\\\"box-message flex-shrink-1 bg-light rounded py-2 px-3 ml-3\\\">\\n        <div class=\\\"user-name font-weight-bold mb-1\\\">\").concat(resultCheckUser ? 'You' : 'NOT your', \"\\n        <div class='pencil'></div>\\n        </div>\\n        <div class=\\\"user-message\\\">\\n        \").concat(message, \"\\n        </div>\\n      </div>\\n  \");\n    // const styleForDownloadBox\n    const rightLeft = resultCheckUser ? 'chat-message-right' : 'chat-message-left';\n    const res = authorId;\n    htmlMessage.setAttribute('data-id', res);\n    htmlMessage.className = 'pb-4 message';\n    htmlMessage.classList.add(rightLeft);\n    const newBox = htmlMessage.outerHTML;\n    htmlChat.insertAdjacentHTML('beforeend', newBox);\n\n    /*  cleaning to the datas */\n    filesId = [];\n    if (refer.length > 10) {\n      localStorage.setItem('data', JSON.stringify({\n        fileId: false\n      }));\n    }\n    ;\n    // and\n    refer = '<ul>';\n    const boxMess = document.querySelector(\"div[data-post=\\\"\".concat(postId, \"\\\"]\"));\n    /* ------ 1/3 pencil ------ */\n    if (boxMess !== null) {\n      const Pencil_ = new _Service_oop_pencils__WEBPACK_IMPORTED_MODULE_3__.Pencil(boxMess);\n      Pencil_.start();\n\n      /* ------ box download ------ */\n      const boxDownload = boxMess.getElementsByClassName('download');\n      /* ------ style for a box with has download class  ------ */\n      if (boxDownload.length === 0) {\n        return;\n      }\n      Pencil_.postStylesHeight(boxDownload[0]);\n      const htmlLi = boxDownload[0].getElementsByTagName('li');\n      if (htmlLi.length === 0) {\n        console.log('[createChatMessage > LI]: Something that wrong!');\n      }\n      Pencil_.handlerRemoveAdd(htmlLi);\n    }\n    if (boxMess === null) {\n      console.log('[createChatMessage > DIV]: Something that wrong!');\n      return;\n    }\n  }\n\n  /**\r\n   * scroll\r\n   */\n  (0,_Service_handlers_scrolling__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n}\n\n//# sourceURL=webpack://shop/./src/scripts/templates/messages.ts?");

/***/ }),

/***/ "./src/scripts/websockets/index.ts":
/*!*****************************************!*\
  !*** ./src/scripts/websockets/index.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WSocket: () => (/* binding */ WSocket)\n/* harmony export */ });\n/* harmony import */ var _Service_handlers_messages_old_message_up_message__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @Service/handlers/messages/old-message/up-message */ \"./src/scripts/services/handlers/messages/old-message/up-message.ts\");\n/* harmony import */ var _htmlTemplates_messages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @htmlTemplates/messages */ \"./src/scripts/templates/messages.ts\");\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n// app_messager\\frontend\\src\\scripts\\websockets\\index.ts\n\n\n\n\n/**\r\n * Класс для работы с \"WebSocket\" протоколом.\r\n * Запускает прослушку событий:\r\n * - 'open';\r\n * - 'message';\r\n * -'close'.\r\n *  Каждое событие запускает фукцию по умолчанию.\r\n * Каждую функцию можно переписать под свои условия.\r\n *\r\n *  Есть фунция зкрытия соединения.\r\n *  Она возвращает соманду - закрыть соединение.\r\n */\nclass WSocket {\n  constructor(url) {\n    _defineProperty(this, \"socket\", void 0);\n    _defineProperty(this, \"handlers\", void 0);\n    _defineProperty(this, \"onMessage\", e => {\n      console.log('-------------------');\n      const dataJson = JSON.parse(e.data);\n      debugger;\n      const resp = dataJson.text !== undefined ? dataJson.text : e.data.includes('groupId') ? e.data : null;\n      if (resp === null) {\n        return;\n      }\n      ;\n      const dataTextJson = JSON.parse(resp);\n      const message = dataTextJson.message;\n      const authorId = String(dataTextJson.userId);\n      const postId = String(dataTextJson.postId);\n      const groupId = dataTextJson.groupId;\n      const dataTime = dataTextJson.eventtime;\n      console.log(\"[websokets > RECIVED MESS]: \".concat(dataJson));\n      if (dataTime === undefined) {\n        const err = new Error();\n        err.name = '[websokets > RECIVED MESS]';\n        err.message = 'Something that wrong by the time!';\n        throw err;\n      }\n      const filesId = dataJson.fileIndex !== undefined ? dataJson.fileIndex : [];\n      if (dataTextJson.corrects !== true) {\n        (0,_htmlTemplates_messages__WEBPACK_IMPORTED_MODULE_1__.createChatMessage)({\n          authorId,\n          dataTime,\n          message,\n          groupId,\n          postId,\n          filesId\n        });\n      } else {\n        const postIndex = postId;\n        const postMessage = message;\n        /* Here '({ filesIndexes: filesId })' part is an async */\n        (0,_Service_handlers_messages_old_message_up_message__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n          postIndex,\n          postMessage\n        })({\n          filesIndexes: filesId\n        });\n      }\n    });\n    this.socket = new WebSocket(url);\n    this.socket.addEventListener('open', e => {\n      console.info(\"[WSocket > OPEN]: \".concat(e));\n    });\n    this.socket.addEventListener('message', e => {\n      console.info(\"[WSocket > MESSAGE]: WebSocket - message was received; MESSAGE: \".concat(e.target.url));\n      this.onMessage(e);\n    });\n    this.socket.onbeforeunload = function () {\n      this.socket.send('ping');\n    };\n    this.socket.addEventListener('close', e => {\n      console.info(\"[WSocket > CLOSE]: - connection was CLOSED: \".concat(e.message));\n    });\n    this.socket.addEventListener('error', e => {\n      console.info(\"[WSocket > ERROR]: - connection was ERROR: \".concat(e));\n    });\n    this.handlers = {\n      open: [],\n      close: [],\n      data: []\n    };\n  }\n\n  /**\r\n   * Here we getting the data for a send.\r\n   * Entry point getting JSON.stringfy\r\n   * @param datas void\r\n   */\n  beforeSend(datas) {\n    // debugger;\n    try {\n      if ((typeof JSON.parse(datas)).includes('object')) {\n        this.handlers.data.push(datas);\n      } else {\n        console.log('[websokets: SENDS]: Received datas is a not JSON object. ');\n      }\n    } catch (e) {\n      console.error(\"[websokets: sends ERROR]: Received datas and what went wrong. It is not JSON object. MESSAGE: \".concat(e.message));\n    }\n  }\n  get readyState() {\n    const handlers = this.handlers;\n    return handlers;\n  }\n  onClose() {\n    this.socket.close();\n  }\n  dataSendNow() {\n    const data = this.readyState.data.slice(0)[0];\n    console.log('[websokets > OPEN > BEFORE SEND]: Message was a pass - Ok');\n    if (this.socket.readyState === WebSocket.OPEN) {\n      this.socket.send(data);\n      console.log('[websokets > OPEN > AFTER SEND]: Ok');\n      this.handlers.data.pop();\n    } else {\n      console.info(\"[websokets > CLOSE ERROR]:  In Now time can't send message to the WebSocket.WebSocket is closed\");\n      return false;\n    }\n  }\n}\n\n//# sourceURL=webpack://shop/./src/scripts/websockets/index.ts?");

/***/ }),

/***/ "./src/styles/style.css":
/*!******************************!*\
  !*** ./src/styles/style.css ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://shop/./src/styles/style.css?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ })()
;